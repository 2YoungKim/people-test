<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript">
            function loadDoc() {
                var req = new XMLHttpRequest();
                req.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        myFunction(this);
                    }
                };
                req.open("GET", "./people.xml", true);
                req.send();
            }
 
            function myFunction(xml) {
                var i;
                var xmlDoc = xml.responseXML;
 
                var gname = xmlDoc.getElementsByTagName("name")[0].firstChild.data;
                document.getElementById("gname").innerHTML = gname;
 
                var members = "";
                var member = xmlDoc.getElementsByTagName("member");
                var name = xmlDoc.getElementsByTagName("name");
                console.log(member)
                console.log(member.children.length)
                console.log(member[0].children[0].firstChild.data)
                for (i = 0; i < member.length; i++) { 
                    if (i != 0) { members += ", "; }                    
                    for (j=0; j < member[i].children.length; j++){
                        members += member[i]. children[j].parentNode +" : " + member[i].children[j].firstChild.data + "<br />"
                                /*+  "성별 : " + member[i].children[j].firstChild.data + "<br />"
                                +  "출생연도 : " + member[i].children[j].firstChild.data + "<br />"
                                +  "월 : " + member[i].children[j].firstChild.data + "<br />"
                                +  "일 : " + member[i].children[j].firstChild.data + "<br />"
                                +  "<br />"*/;
                    }
                }
                document.getElementById("members").innerHTML = members;
 
                var albums = "";
                var album = xmlDoc.getElementsByTagName("album");
                for (i = 0; i < album.length; i++) { 
                    albums += "<li>" + album[i].getAttribute('order') + ": " +
                    album[i].firstChild.data + "</li>\n";
                }
                document.getElementById("albums").innerHTML = albums;
            }
            /*
            $.getJSON('people.json', function(data) {
                $.each(data.person, function(i, f) {
                    var tblRow = "<tr>" + "<td>" + f.firstName + "</td>" +
                    "<td>" + f.lastName + "</td>" + "<td>" + f.job + "</td>" + "<td>" + f.roll + "</td>" + "</tr>"
                    $(tblRow).appendTo("#userdata tbody");
                });
            */
        </script>
        <title>AJAX Sample</title>
    </head>
 
    <body onload="loadDoc();">
        <h2 id="gname"></h2>
        <p>멤버 구성: </p>
        <span id="members"></span>
        <h3>앨범 목록</h3>
        <ul id="albums"></ul>
    </body>
</html>
